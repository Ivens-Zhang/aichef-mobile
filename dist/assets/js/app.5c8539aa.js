(function(e){function t(t){for(var a,o,i=t[0],c=t[1],u=t[2],f=0,p=[];f<i.length;f++)o=i[f],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(p.length)p.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],a=!0,i=1;i<s.length;i++){var c=s[i];0!==n[c]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=s[0]))}return e}var a={},n={app:0},r=[];function o(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=a,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(s,a,function(t){return e[t]}.bind(null,a));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var a=s("85ec"),n=s.n(a);n.a},"13ff":function(e,t,s){},"3e90":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},r=[],o={name:"App",components:{}},i=o,c=(s("034f"),s("2877")),u=Object(c["a"])(i,n,r,!1,null,null,null),l=u.exports,f=s("76a0"),p=s.n(f),m=(s("aa35"),s("bc3a")),d=s.n(m),h=s("8c4f"),v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"success"},[s("Title",{staticClass:"title"}),e._m(0)],1)},b=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"suggest"},[s("span",[e._v("恭喜您注册成功")]),s("br"),s("span",[e._v("请检查您的邮箱，并在 pc 端使用。")])])}],g=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},_=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wapper"},[s("div",{staticClass:"logo"},[s("img",{attrs:{src:"http://139.217.114.86:8000/img/icons/logo-64X64.png"}})]),s("div",{staticClass:"title"},[s("span",[e._v("AI 新课堂")])])])}],S={},I=S,y=(s("8fe0"),Object(c["a"])(I,g,_,!1,null,"8ecf1870",null)),O=y.exports,N={name:"success",components:{Title:O}},T=N,j=(s("77be"),Object(c["a"])(T,v,b,!1,null,"4f111088",null)),w=j.exports,x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"formClass"},[s("Title",{staticClass:"title"}),s("div",{staticClass:"userInfoClass"},[s("mt-field",{staticClass:"userNameClass",attrs:{label:"用户名",placeholder:"以字母开头,可包含1-9/a-z/A-Z及+-_",state:e.userNameState},model:{value:e.userInfo.userName,callback:function(t){e.$set(e.userInfo,"userName","string"===typeof t?t.trim():t)},expression:"userInfo.userName"}}),s("mt-field",{staticClass:"emailClass",attrs:{label:"邮箱",placeholder:"请输入邮箱",type:"email",state:e.emailState},model:{value:e.userInfo.email,callback:function(t){e.$set(e.userInfo,"email","string"===typeof t?t.trim():t)},expression:"userInfo.email"}})],1),s("mt-button",{staticClass:"btn",attrs:{type:"primary",size:"large"},on:{click:e.register}},[e._v("注 册")])],1)},C=[],A=(s("99af"),{name:"Register",components:{Title:O},data:function(){return{title:"AI 新课堂",emailState:"",userNameState:"",userInfo:{userName:"",email:""},adminInfo:{username:"admin",password:"admin123"},token:"",classID:"74777f13-4f11-4151-9c85-16ee3d888096"}},watch:{"userInfo.email":{handler:function(e){var t=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/g,s=t.test(e);this.emailState=s?"success":""===e?"":"warning"}},"userInfo.userName":{handler:function(e){var t=this,s=e.length,a=/^[a-zA-Z][a-zA-Z0-9+-_ ]{5,}$/;a.test(e)?this.axios.get("users/check/".concat(this.userInfo.userName,"/")).then((function(e){e.data.username?(t.userNameState="error",Object(f["Toast"])({message:"用户名已被注册",position:"top",duration:1e3})):t.userNameState="success"})).catch((function(e){console.log(e)})):a.test(e)||0===s?this.userNameState="":this.userNameState="warning"}}},methods:{register:function(){var e=this;"success"===this.emailState&&"success"===this.userNameState?this.axios({method:"POST",url:"users/".concat(this.userInfo.userName,"/"),data:{emailInfo:{email:this.userInfo.email}},headers:{Accept:"*/*",Authentication:this.token}}).then((function(t){f["Indicator"].open({text:"注册中...",spinnerType:"fading-circle"}),e.axios({method:"PUT",url:"users/add-role/".concat(t.data.username,"/STUDENT/"),headers:{Accept:"*/*",Authentication:e.token}})})).then((function(){e.axios({method:"PUT",url:"claszes/".concat(e.classID,"/add-member/").concat(e.userInfo.userName,"/"),headers:{Accept:"*/*",Authentication:e.token}}),e.timer=setTimeout((function(){f["Indicator"].close(),Object(f["Toast"])({message:"注册成功",position:"top",duration:1e3}),e.$router.push("/success"),e.timer=void 0}),1e3)})).then((function(){e.userInfo.userName="",e.userInfo.email=""})).catch((function(e){console.log(e)})):"warning"===this.emailState&&"success"===this.userNameState?Object(f["Toast"])({message:"请输入正确的邮箱格式",position:"top",duration:2e3}):"success"===this.emailState&&"error"===this.userNameState?Object(f["Toast"])({message:"请输入正确的用户名格式",position:"top",duration:2e3}):"warning"===this.userNameState?Object(f["Toast"])({message:"请输入格式正确的用户名",position:"top",duration:2e3}):""===this.emailState||""===this.userNameState?Object(f["Toast"])({message:"用户信息不可为空",position:"top",duration:2e3}):Object(f["Toast"])({message:"用户信息填写不正确",position:"top",duration:2e3})}},created:function(){var e=this;this.axios.post("login",this.adminInfo).then((function(t){e.token=t.data.token}))}}),k=A,$=(s("93f5"),Object(c["a"])(k,x,C,!1,null,"259bcfd4",null)),P=$.exports;a["default"].use(h["a"]);var z=[{path:"/",name:"Register",component:P},{path:"/success",name:"Success",component:w}],E=new h["a"]({routes:z}),Z=E;a["default"].prototype.axios=d.a.create({baseURL:"http://139.217.114.86:8080/"}),a["default"].use(p.a),a["default"].config.productionTip=!1,new a["default"]({router:Z,render:function(e){return e(l)}}).$mount("#app")},"77be":function(e,t,s){"use strict";var a=s("3e90"),n=s.n(a);n.a},"85ec":function(e,t,s){},"8fe0":function(e,t,s){"use strict";var a=s("13ff"),n=s.n(a);n.a},"93f5":function(e,t,s){"use strict";var a=s("eb6e"),n=s.n(a);n.a},eb6e:function(e,t,s){}});
//# sourceMappingURL=app.5c8539aa.js.map